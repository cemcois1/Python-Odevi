import yaml  #pip ile indirdim import ettim
from tkinter import *
import json #dosyaları açmak ve okumak için

mylinklist=[
    "node_modules\country-json\src\country-by-capital-city.json",                #başkent
    "node_modules\country-json\src\country-by-languages.json",                   #ülke dili
    "node_modules\country-json\src\country-by-abbreviation.json",                #kısaltması
    "node_modules\country-json\src\country-by-region-in-world.json" ,            #bulunduğu kıta
    "node_modules\country-json\src\country-by-government-type.json"              #ülke tipi
    "node_modules\country-json\src\country-by-surface-area.json"                 #yüzey alanı
    "node_modules\country-json\src\country-by-population.json",                  #nüfus
    "node_modules\country-json\src\country-by-population-density.json",          #nüfus yogunlugu
    "node_modules\country-json\src\country-by-independence-date.json" ,          #bagımsızlık yili
    "node_modules\country-json\src\country-by-currency-name.json" ,              #para birimi adi
    "node_modules\country-json\src\country-by-domain-tld.json",                  #kullandıgı domain
    "node_modules\country-json\src\country-by-calling-code.json",                #alan kodu tr 90 
    "node_modules\country-json\src\country-by-religion.json" ,                   #dini
    "node_modules\country-json\src\country-by-yearly-average-temperature.json"   #yıllık ortalama sıcaklık 14 tane
    ]







def degerleriniYazdir(b_adi):
    pass

def textOlustur():

    with open('node_modules\country-json\src\country-by-name.json') as f:
        verim=json.load(f)

    for i in range(241):#255 ülke var datamda
        #textleri BURADA ÜRETECEĞİM textleri OLUŞTUR VE ADINI GİR PARAMETRE OLARAK
        listNodes.insert(END, str(verim[i]["country"]))

    f.close()

def go (event):
    
    i_secimim=listNodes.curselection()

    
    with open('node_modules\country-json\src\country-by-name.json') as f:
        verim=json.load(f) 
    for i in i_secimim:#bana indexi döndürüyor
        top=Toplevel() #yeni pencere aç

        top.title(str(verim[i]["country"]))  #yeni pencerenin başlığı ülke adı olsun **********************************************
        top.geometry("300x300")        


        with open(mylinklist[0]) as f:
            verim2=json.load(f)
        metin="" 
        for gezinen in range(242):#BASKENTİ

            if(verim2[gezinen].get("country")==str(verim[i]["country"]) ):#ekle
                metin+=verim2[gezinen]["city"]+"  "
                label=Label(top,text="Capital city = "+ metin)
                label.pack(side=TOP, anchor=NW)
        
      
        #print(verim2[i]["abbreviation"])
        #print(verim2[0])


        
        metin=""
        with open(mylinklist[1]) as f:  #diller
            verim3=json.load(f)
        for gezinen in range(994):#diller

            if(verim3[gezinen].get("country")==str(verim[i]["country"]) ):#ekle
                #print("tamamdııır")
                metin+=verim3[gezinen]["language"]+"  "

        label=Label(top,text="Language = "+ metin)
        label.pack(side=TOP, anchor=NW)

        with open(mylinklist[2]) as f:#kısaltmalar
            verim3=json.load(f)
        metin=""
        for gezinen in range(245):

            if(verim3[gezinen].get("country")==str(verim[i]["country"]) ):#ekle
                print("tamamdııır")
                metin+=verim3[gezinen]["abbreviation"]+"  "
        
        label=Label(top,text="Abbreviation = "+str(metin))
        label.pack(side=TOP, anchor=NW)

        with open(mylinklist[3])as f:#bulundugu nokta
            verim4=json.load(f)
        for gezinen in range(243):
            if(verim4[gezinen].get("country")==(str(verim[i]["country"]))):
                label=Label(top,text="Location ="+verim4[gezinen]["location"])
                label.pack(side=TOP, anchor=NW)

        


            #ülkenin adını veriyim bana degerini döndür
            #sonra bu degeri labellarla yazdır
        



         
         #yeni pencerede bilgiler alt alta sıralansın şimdilik


#with open('node_modules\country-json\src\country-by-capital-city.json') as json_file:
#    for line in yaml.safe_load(json_file):
#        print (line) # {'country': 'Afghanistan', 'city': 'Kabul'}
#json_file.close()

#with  open('node_modules\country-json\src\country-by-abbreviation.json') as f:
#    veri=json.load(f)

#for  i in range(245):

#    print(veri[i]["country"] ,end='\n')
#f.close()


def ozellikyazdir():
    pass

root=Tk()
root.title('Ulkeler Hakkında Genel Bilgiler')


""""""
frame = Frame(root)
frame.pack(side= LEFT)

listNodes = Listbox(frame, width=20, height=20, font=("Helvetica", 12))


scrollbar = Scrollbar(frame, orient="vertical")
scrollbar.config(command=listNodes.yview)
scrollbar.pack(side="left", fill="y")

#mybutton = Button(root,text="ülkeninadi",padx=11,pady=5,command=butoncalisti,fg="blue")
#mybutton.grid(row=0,column=0)

#mylabel1=Label(root,text="Hello world")
#mylabel1.grid(row=1,column=0,columnspan=5)
#buttonlarıUret()
textOlustur()
listNodes.bind('<Double-1>', go) 
listNodes.pack(side="left", fill="y")
root.mainloop()